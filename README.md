# IRC Logger

A simple and lightweight IRC logging bot that produces log files which can be processed by [irclog2html.py](https://pypi.python.org/pypi/irclog2html) to make nice and colorful HTML log pages.

The bot is written for x86 architecture in assembly language for [Microsoft Macro Assembler (MASM)](http://www.masm32.com/) using Windows API.

## Key Notes

  - Log syntax is based on [Supybot's ChannelLogger plugin](https://sourceforge.net/p/supybot/code/ci/82ecf36fcdfb16a19e282b93b7064a6f823e7e1e/tree/plugins/ChannelLogger/plugin.py), which is compatible with the [irclog2html.py](https://pypi.python.org/pypi/irclog2html) script.

  - Settings file `settings.ini` is used to provide user-defended settings. There are default settings hardcoded in the bot, in case the settings file is missing. Running the bot without the settings file will not generate one.

  - For every channel the bot monitors, a separate `#channelName` directory is created inside the logging directory. The log files are stored in the `#channelName` directories under `YYYY-MM-DD.log` file names. This allows to use log2html's mass-conversion functionality `logs2html #channelNameDirectory/` to convert all logs for that channel into HTML.

  - A log file for a channel is created on logging, meaning if there was nothing to log, i.e. the channel was quiet, there would be no log file created.

  - A log file for a channel is closed, i.e. no longer in use by the bot program, when the log file for the next day for that channel is created.

  - The bot doesn't handle the case if the nick name being already taken.

  - The bot doesn't reconnect to the server if the connection is lost.

  - The bot was tested only on the Freenode IRC network.

## Log Examples

Example of logs generated by Supybot's ChannelLogger plugin: [[1]](http://schooltool.pov.lt/irclogs/%23schooltool.2012-11-21.log). The bot uses the very same format for generating the logs.

Examples of HTML logs generated by `irclog2html.py`: [[1]](http://schooltool.pov.lt/irclogs/index.html), [[2]](http://schooltool.pov.lt/irclogs/%23schooltool.2012-11-21.log.html).

## Usage

  1. Install [MASM32 SDK](http://www.masm32.com/download.htm) into `C:\masm32`.

  2. Clone this repository somewhere on `C:\`, preferably with no spaces in the path.

  3. Run `make.bat`.

  4. You should see `IRCLogger.exe` created.

## License

MIT.
